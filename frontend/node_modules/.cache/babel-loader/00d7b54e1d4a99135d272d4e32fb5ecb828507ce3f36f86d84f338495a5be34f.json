{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const AudioInput=_ref=>{let{onTranscription}=_ref;const[recording,setRecording]=useState(false);const[mediaRecorder,setMediaRecorder]=useState(null);const startRecording=async()=>{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const recorder=new MediaRecorder(stream);setMediaRecorder(recorder);recorder.start();setRecording(true);const chunks=[];recorder.ondataavailable=e=>chunks.push(e.data);recorder.onstop=async()=>{const blob=new Blob(chunks,{type:'audio/wav'});const formData=new FormData();formData.append('file',blob,'recording.wav');try{const response=await axios.post('http://localhost:8000/transcribe',formData,{headers:{'Content-Type':'multipart/form-data'}});onTranscription(response.data.transcription);}catch(error){console.error('Transcription error:',error);}};};const stopRecording=()=>{mediaRecorder===null||mediaRecorder===void 0?void 0:mediaRecorder.stop();setRecording(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:recording?stopRecording:startRecording,children:recording?'Stop Recording':'Start Recording'})});};export default AudioInput;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","AudioInput","_ref","onTranscription","recording","setRecording","mediaRecorder","setMediaRecorder","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","recorder","MediaRecorder","start","chunks","ondataavailable","e","push","data","onstop","blob","Blob","type","formData","FormData","append","response","post","headers","transcription","error","console","stopRecording","stop","children","onClick"],"sources":["/Users/ameyajadhav/Documents/Projects/proper-noun-correction/frontend/src/components/AudioInput.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst AudioInput: React.FC<{ onTranscription: (text: string) => void }> = ({\n  onTranscription,\n}) => {\n  const [recording, setRecording] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(\n    null\n  );\n\n  const startRecording = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    const recorder = new MediaRecorder(stream);\n    setMediaRecorder(recorder);\n    recorder.start();\n    setRecording(true);\n\n    const chunks: Blob[] = [];\n    recorder.ondataavailable = (e) => chunks.push(e.data);\n    recorder.onstop = async () => {\n      const blob = new Blob(chunks, { type: 'audio/wav' });\n      const formData = new FormData();\n      formData.append('file', blob, 'recording.wav');\n\n      try {\n        const response = await axios.post(\n          'http://localhost:8000/transcribe',\n          formData,\n          {\n            headers: { 'Content-Type': 'multipart/form-data' },\n          }\n        );\n        onTranscription(response.data.transcription);\n      } catch (error) {\n        console.error('Transcription error:', error);\n      }\n    };\n  };\n\n  const stopRecording = () => {\n    mediaRecorder?.stop();\n    setRecording(false);\n  };\n\n  return (\n    <div>\n      <button onClick={recording ? stopRecording : startRecording}>\n        {recording ? 'Stop Recording' : 'Start Recording'}\n      </button>\n    </div>\n  );\n};\n\nexport default AudioInput;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,UAAiE,CAAGC,IAAA,EAEpE,IAFqE,CACzEC,eACF,CAAC,CAAAD,IAAA,CACC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACS,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAChD,IACF,CAAC,CAED,KAAM,CAAAW,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CACzE,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,aAAa,CAACN,MAAM,CAAC,CAC1CF,gBAAgB,CAACO,QAAQ,CAAC,CAC1BA,QAAQ,CAACE,KAAK,CAAC,CAAC,CAChBX,YAAY,CAAC,IAAI,CAAC,CAElB,KAAM,CAAAY,MAAc,CAAG,EAAE,CACzBH,QAAQ,CAACI,eAAe,CAAIC,CAAC,EAAKF,MAAM,CAACG,IAAI,CAACD,CAAC,CAACE,IAAI,CAAC,CACrDP,QAAQ,CAACQ,MAAM,CAAG,SAAY,CAC5B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACP,MAAM,CAAE,CAAEQ,IAAI,CAAE,WAAY,CAAC,CAAC,CACpD,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEL,IAAI,CAAE,eAAe,CAAC,CAE9C,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAA/B,KAAK,CAACgC,IAAI,CAC/B,kCAAkC,CAClCJ,QAAQ,CACR,CACEK,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CACF,CAAC,CACD5B,eAAe,CAAC0B,QAAQ,CAACR,IAAI,CAACW,aAAa,CAAC,CAC9C,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGA,CAAA,GAAM,CAC1B7B,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAE8B,IAAI,CAAC,CAAC,CACrB/B,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,mBACEL,IAAA,QAAAqC,QAAA,cACErC,IAAA,WAAQsC,OAAO,CAAElC,SAAS,CAAG+B,aAAa,CAAG3B,cAAe,CAAA6B,QAAA,CACzDjC,SAAS,CAAG,gBAAgB,CAAG,iBAAiB,CAC3C,CAAC,CACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}